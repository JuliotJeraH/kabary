public class kabary {

    public static void main(String[] args) {


        mpikabary mpikabary1 = new mpikabary(
            "Rakoto", 
            "Jean",
            "Ambohimanga", 
            "10:00",
            1975, 
            "Mampiavaka Malagasy amin'ny maro ny Kabary",
            "\"Ny maty omby hono tay mahay mandrasa, ny farara feno rano tsy maneno ary ny zohim pahoriana tay mahaloa peo\"",
            "\"Ny maty omby hono tay mahay mandrasa, ny farara feno rano tsy maneno ary ny zohim pahoriana tay mahaloa peo\" kon dia nataon ireto fianakaviana hanana anjara tsy fidiny ny tenako hitondra ny teniny eto aminareo.\r\n" + //
            "\r\n" + //
            "Hivolana co anoloanareo ary ka manao azafady, fa sady fangatahan-dalana hiteny izany no fanomezam-boninahitra anareo hitenenana ihany koa.\r\n" + //
            "\r\n" + //
            "Mitondra ny fialana tsiny koa amin izay ho ambarako eto, fa ny teny tsy misy hifan-tenana, tsy misy hisafidianana no nampitondraina ahy.\r\n" + //
            "\r\n" + //
            "Hoy ny tenin'ny fianakaviana: na dia mitanondrika aza ny loha, ka mijohy ny ra nomaso noho ny voina mihatra dia tay \"hodian-tsy hita tahaka ny tany nahalavoana\" akory ianamo. Ianarco nabafoy andro, nahafoy alina, ka nifampitondra ny mavesatra taminay teto Mandala ny fihavinana tokoa janareo, ka nafoinareo noho izany ny tsikalakalam-bola. Navelanaren ny asa aman-draharaha, ny fihariana isan-karazany, fa aleonareo nanao toy ny maso sy orona ka miray alahelo tamin'ny fianakaviana.\r\n" + //
            "\r\n" + //
            "Sitraka izay nataonnneo tompokolahy, telina izay vitanareo tompokovavy. Tsaroana ho tena maivana ny faboriana, fa hifampitondrana aminareo. Ka na tay voavalinay aza ny fitiavana entinareo eto aminny. Ilay Andriamanitra tompon'ny fitiavana anie hamaly izany aminareo tsirniray avy. Ary aoka mba ny soa sy ny tsara indray no hifanodiavana toy izao, ka ho mangidy lavitry ny fahafatesana isika rehetra.....\r\n" + //
            "\r\n" + //
            "Izno dia hininga ny razana. Handao ny varavaran-kazo nivoahana marain-tsy hariva izy, ka aterina any amin'ny varavaram-bato, ho any amin'ireo razany nihaloha lalana azy.\r\n" + //
            "\r\n" + //
            "Veloma ny tekatrano izay ilaczany. Masina ny farafara izay nandriany. Tratrå ny ela ireo akanga sisa nanamborana. Finareta ny hazo tapaky ny akalana. Soava ny hazo silaky ny sampy: Lamarco rehetra ao atsimo sy avaratra, ny ao atsinanana sy ny ao andrefana, veloma samy ho tahian' Andriamanitra daholo, fa izay nahitanareo azy izay no farany. Veromanga noserauin-dambo RA..., ka tsy hitampody intsony fa nodimandry. Fa ao am-pasana no fara-famoiza-malala.",
            new double[]{17, 18, 19}
        );

        
        mpikabary mpikabary2 = new mpikabary(
            "Fanja", 
            "Marie",
            "Andoharanofotsy", 
            "11:00",
            2000,
            "Anisan'ny Kolontsaina Malagasy ny Kabary",
            "Tompokolahy sy tompokovavy",
            "Tompokolahy sy tompokovavy, manao azafady raha hiteny indraim-bava aminareo fa dia nomen ireto zana-drazana anjara fitenenana eto ny tena, toy ny tolo-kena avy amin andriana izao tompoko ka fady izay hozinara.\r\n" + //
            "\r\n" + //
            "Izao tompoko ny hafatry zana-drazana aminarco manao hoe lehibe loatra ianarco ka tsy azo atelina fa raha izao ataonareo izao dia sitraka sy telina tokoa.\r\n" + //
            "\r\n" + //
            "Ianarmo izao tokoa hono tompoko, no tonga amin'ilay fitenenana hoe: ilay olona milololia tantely, misakelika akondro, mitehina fary ary manao am-paosy vatiomamy, in din mamy avokoa ny any aminareo rehetra.\r\n" + //
            "\r\n" + //
            "Ny trano no mijoala-jonla dia noho ny fototra, ny vovonana no tsara fipetraka dia noho ny tolana ary izao lanonana izao no tanteraka dia noho ny fanotronantsika mianakavy teto.\r\n" + //
            "\r\n" + //
            "Koa dia ho lava velona anie ianareo rehetra ary ho todin'ny soa sy ny tsara amin'ity fiainana ity.\r\n" + //
            "\r\n" + //
            "Manaraka izany indray dia mbola narahinareo vola aman-karena izao ary koa narahinareo fotsim-bary sy omby ihany koa ho sao-drazana.\r\n" + //
            "\r\n" + //
            "Ka dia tsy hihinana voamanadino izahay tompoko fa hitelina vorunahatsiaro ka hahatsiaro lalandava ny soa nataonareo taminay.",
            new double[]{16, 17, 18}
        );


        mpikabary mpikabary3 = new mpikabary(
            "Lova", 
            "Soa",
            "Sabotsy Namehana", 
            "14:30",
            1990,
            "Zava-kanto Malagasy ny Kabary",
            "Mankasitraka indrindra tompoko amin'izany teninareo izany.",
            "\"Mankasitraka indrindra tompoko amin'izany teninareo izany\" no teny fanombohana. Dia indreto izahay mpitondra teny, manolo-tena eto aminareo.\r\n" + //
            "\r\n" + //
            "Izahay no nataon’ny fianakaviana hisolo tena sy hitondra teny amin’izao fotoana manan-danja izao. Sady fanajana anareo no fanomezam-boninahitra anay izany.\r\n" + //
            "\r\n" + //
            "Raha miteny amin’izao izahay dia tsy avy amin’ny safidy fa avy amin’ny fomban-drazana sy ny fanirian’ny havana. Azo lazaina fa na dia feno ahiahy sy fanontaniana aza ny eritreritra, dia ampitaina hatrany ny marina amin-kitsimpo sy amin’ny fitiavana.\r\n" + //
            "\r\n" + //
            "Hoy ny fianakaviana: tokony ho zandriny angamba no niteny, saingy noho izy tototry ny fitiavana, torana faly sy feno henatra amin’izao fotoana izao, dia izaho no nentiny hisolo tena sy hiteny aminareo.\r\n" + //
            "\r\n" + //
            "Ny teniny dia tsotra: 'Tiany'. Tiany ny zanakareo, tiany toy ny tenany. Ary raha olona tia tena izy, dia hanaja sy hikarakara izay tiany. Izany indrindra no fototra nijoroany sy ny fifandraisan’izy ireo.\r\n" + //
            "\r\n" + //
            "Ary rehefa nanokatra fihirana izy ireo, dia indro teny amin’ilay andininy hoe:\r\n" + //
            "\"Aoka ny foko sy ny fonao, hiara-mitepo tena iray,\r\n" + //
            "Aoka ny saiko sy ny sainao, hiray safidy mandrakizay.\"\r\n" + //
            "\r\n" + //
            "Tsy nisy teny hafa fa io tenin'ny fitiavana io, no nentiny nanaporofo fa tena misy ifandraisany amin’izay efa tsapan’ny fony hatry ny ela.\r\n" + //
            "\r\n" + //
            "Koa dia mangataka izahay mba hanamasina izany, hanome fitahiana, ary hiara-hitondra amim-pitiavana ny ho avin’ny zanakareo.\r\n" + //
            "\r\n" + //
            "Mankasitraka, misaotra tompoko, ary anie ho tahian’Andriamanitra isika rehetra.",
            new double[]{15, 16, 17}
        );

        boolean chevauchement = false;
        String[] juryref = new String[3];
        double[] moyenneCourt = new double[3];
        boolean valide = false;
        double[] moyennemidi14 = new double[3];

        juryref[0] = "Jury 1";
    juryref[1] = "Jury 2";
    juryref[2] = "Jury 3";



        mpikabary[] mpikabaryArray = {mpikabary1, mpikabary2, mpikabary3};

        mpikabary meilleure = mpikabaryArray[0];
        for(int i = 0; i < 3; i++) {
            if(mpikabaryArray[i].moyenne(mpikabaryArray[i].note) > meilleure.moyenne(meilleure.note)) {
                meilleure = mpikabaryArray[i];
            }
        }

//========================= Meilleur Mpikabary =========================//

        System.out.println("Le meilleur mpikabary est: " + meilleure.nom + " " + meilleure.prenom + " de " + meilleure.village + " avec un moyenne de " + String.format("%.2f", meilleure.moyenne(meilleure.note)) + " sur 20.");
        double dureeKabary = meilleure.DureeKabary();
        int h = (int) (dureeKabary / 3600);
        int m = (int) ((dureeKabary % 3600) / 60);
        int s = (int) (dureeKabary % 60);
        System.out.println("Duree de son kabary: " + h + "h " + m + "m " + s + "s");


//========================= Chevaucement de chaque Kabary ======================//

        String[] heure = {mpikabary1.heure, mpikabary2.heure, mpikabary3.heure};

        for(int i=0;i<3;i++){
            for(int j=0;j<3;j++){
                if(heure[i].equals(heure[j]) && i!=j){
                    chevauchement=true;
                    System.out.println(" Kabary de mpikabary "+mpikabaryArray[i].nom + " " + mpikabaryArray[i].prenom +
                                       " et " + mpikabaryArray[j].nom + " " + mpikabaryArray[j].prenom + " se chevauchent.\n");
                }
            }
        }
        if (!chevauchement) {
            System.out.println("Pas de chevauchement de Kabary\n");
        }


//=========================  Jury =========================//

double[] note1 = {12.5, 14.0, 13.0};
double[] longueur = {8.0, 12.0, 9.5};
double[] moyenne = {10.0, 11.5, 12.0};

String juryPlus10= juryref[0];
double noteMax=moyenneCourt[0];
for(int i=0;i<3;i++){
    if(note1[i]>noteMax){
        noteMax=note1[i];
        juryPlus10=juryref[i];
    }
}

    for(int k=0;k<3;k++){
        if(longueur[k]<10){
            moyenneCourt[k]+=moyenne[k];
            valide=true;
        }
    }

    if (valide){
        System.out.println("Le jury qui donne plus de note en moyenne pour les discours courts que longs est: "+juryPlus10+".\n");
    }else{
        System.out.println("Aucun jury n'a donné de note pour les discours courts\n");
    }

//====================================== Plus de moyenne entre 12 14=========================================//


    valide = false;
    int[] nbDiscoursMidi14 = new int[3];
    // Removed duplicate declaration of moyennemidi14

    for (int i = 0; i < 3; i++) { // Renamed loop variable to 'i'
        int heureDiscours = Integer.parseInt(heure[i].substring(0, 2));

        if (heureDiscours >= 12 && heureDiscours <= 14) {
            moyennemidi14[i] += moyenne[i];
            nbDiscoursMidi14[i]++;
            valide = true;
        }
    }

    juryPlus10 = "";
    for (int p = 0; p < 3; p++) { // Loop variable remains 'p'
        if (nbDiscoursMidi14[p] > 0) {
            double moyenneMidi14 = moyennemidi14[p] / nbDiscoursMidi14[p];
            if (moyennemidi14[p] / nbDiscoursMidi14[p] > noteMax) {
                noteMax = moyennemidi14[p] / nbDiscoursMidi14[p];
                juryPlus10 = juryref[p];
            }
        }
    }

    if (valide) {
        System.out.println("Le jury qui donne plus de note en moyenne pour les discours entre midi et 14h est : " + juryPlus10 + ".\n");
    } else {
        System.out.println("Aucun jury n'a donné de note pour les discours entre midi et 14h\n");
    }

    }

}